# Описание проекта

Этот проект представляет собой API для управления сотрудниками и департаментами в компании.

## Установка и запуск
1. Клонируйте репозиторий:
```bash
git@github.com:N1ghtmarus/bvb_testovoe.git
```

2. Перейдите в каталог проекта и установите все необходимые зависимости:
```bash
cd backend
pip install -r requirements.txt
```
3. Создайте файл .env в корне проекта со следующим содержимым (замените значения на свои):
```makefile
DJANGO_SECRET_KEY=<>
```
4.  Выполните миграции:

```bash
python manage.py makemigrations
python manage.py migrate
```
5. Запустите сервер разработки Django:

```bash
python manage.py runserver
```
Сервер будет доступен по адресу http://127.0.0.1:8000/api/

# Модели
## Department

Модель `Department` представляет департамент компании. У департамента есть следующие поля:

- `name` (CharField) - название департамента.
- `director` (OneToOneField, Employee) - директор департамента.

У департамента есть следующие методы:

- `total_salary` - метод для подсчета общей зарплаты всех сотрудников департамента.
- `num_employees` - метод для подсчета количества сотрудников в департаменте.

## Employee

Модель `Employee` представляет сотрудника компании. У сотрудника есть следующие поля:

- `full_name` (CharField) - ФИО сотрудника.
- `photo` (ImageField) - фотография сотрудника.
- `position` (CharField) - должность сотрудника.
- `salary` (DecimalField) - заработная плата сотрудника.
- `age` (IntegerField) - возраст сотрудника.
- `department` (ForeignKey, Department) - департамент, в котором работает сотрудник.

# Views
## EmployeeViewSet

ViewSet для управления сотрудниками.

Действия, которые поддерживает этот ViewSet:

- `GET` - получение списка сотрудников.
- `POST` - создание нового сотрудника.
- `PUT` - обновление данных сотрудника.
- `DELETE` - удаление сотрудника.

## DepartmentViewSet

ViewSet для управления департаментами.

Действия, которые поддерживает этот ViewSet:

- `GET` - получение списка департаментов.
- `POST` - создание нового департамента.
- `PUT` - обновление данных департамента.
- `DELETE` - удаление департамента.